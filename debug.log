[13-Jun-2025 19:38:00 UTC] BookingController - checkAvailability called
[13-Jun-2025 19:38:00 UTC] BookingController - POST data: {"booking_date":"2025-06-24","booking_time":"13:00","party_size":"6"}
[13-Jun-2025 19:38:00 UTC] BookingController - Extracted: date=2025-06-24, time=13:00, partySize=6
[13-Jun-2025 19:38:00 UTC] Booking Debug - checkAvailability called
[13-Jun-2025 19:38:00 UTC] Booking Debug - Date: 2025-06-24, Time: 13:00, Party Size: 6
[13-Jun-2025 19:38:00 UTC] Booking Debug - DateTime: 2025-06-24 13:00
[13-Jun-2025 19:38:00 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:00 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:00 UTC] Booking Debug - Params: guests=6, time=2025-06-24 13:00
[13-Jun-2025 19:38:00 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:00 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:00 UTC] Booking Debug - No available tables found
[13-Jun-2025 19:38:00 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:00 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:00 UTC] Booking Debug - Params: guests=6, time=2025-06-24 11:00:00
[13-Jun-2025 19:38:00 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:00 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:00 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:00 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:00 UTC] Booking Debug - Params: guests=6, time=2025-06-24 11:30:00
[13-Jun-2025 19:38:00 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:00 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:00 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:00 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:00 UTC] Booking Debug - Params: guests=6, time=2025-06-24 12:00:00
[13-Jun-2025 19:38:00 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:00 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:00 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:00 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:00 UTC] Booking Debug - Params: guests=6, time=2025-06-24 12:30:00
[13-Jun-2025 19:38:00 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:00 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:00 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:00 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:00 UTC] Booking Debug - Params: guests=6, time=2025-06-24 13:00:00
[13-Jun-2025 19:38:00 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:00 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:00 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:00 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:00 UTC] Booking Debug - Params: guests=6, time=2025-06-24 13:30:00
[13-Jun-2025 19:38:00 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:00 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:00 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:00 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:00 UTC] Booking Debug - Params: guests=6, time=2025-06-24 14:00:00
[13-Jun-2025 19:38:00 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:00 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:00 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:00 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:00 UTC] Booking Debug - Params: guests=6, time=2025-06-24 14:30:00
[13-Jun-2025 19:38:00 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:00 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:00 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:00 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:00 UTC] Booking Debug - Params: guests=6, time=2025-06-24 17:00:00
[13-Jun-2025 19:38:00 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:00 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:00 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:00 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:00 UTC] Booking Debug - Params: guests=6, time=2025-06-24 17:30:00
[13-Jun-2025 19:38:00 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:00 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:00 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:00 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:00 UTC] Booking Debug - Params: guests=6, time=2025-06-24 18:00:00
[13-Jun-2025 19:38:00 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:00 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:00 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:00 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:00 UTC] Booking Debug - Params: guests=6, time=2025-06-24 18:30:00
[13-Jun-2025 19:38:00 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:00 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:00 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:00 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:00 UTC] Booking Debug - Params: guests=6, time=2025-06-24 19:00:00
[13-Jun-2025 19:38:00 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:00 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:00 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:00 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:00 UTC] Booking Debug - Params: guests=6, time=2025-06-24 19:30:00
[13-Jun-2025 19:38:00 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:00 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:00 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:00 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:00 UTC] Booking Debug - Params: guests=6, time=2025-06-24 20:00:00
[13-Jun-2025 19:38:00 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:00 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:00 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:00 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:00 UTC] Booking Debug - Params: guests=6, time=2025-06-24 20:30:00
[13-Jun-2025 19:38:00 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:00 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:00 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:00 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:00 UTC] Booking Debug - Params: guests=6, time=2025-06-24 21:00:00
[13-Jun-2025 19:38:00 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:00 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:00 UTC] BookingController - Result from model: {"available":false,"message":"Kh\u00f4ng c\u00f3 b\u00e0n tr\u1ed1ng cho th\u1eddi gian n\u00e0y. Vui l\u00f2ng ch\u1ecdn th\u1eddi gian kh\u00e1c.","suggestedTimes":[]}
[13-Jun-2025 19:38:03 UTC] BookingController - checkAvailability called
[13-Jun-2025 19:38:03 UTC] BookingController - POST data: {"booking_date":"2025-06-24","booking_time":"13:00","party_size":"9"}
[13-Jun-2025 19:38:03 UTC] BookingController - Extracted: date=2025-06-24, time=13:00, partySize=9
[13-Jun-2025 19:38:03 UTC] Booking Debug - checkAvailability called
[13-Jun-2025 19:38:03 UTC] Booking Debug - Date: 2025-06-24, Time: 13:00, Party Size: 9
[13-Jun-2025 19:38:03 UTC] Booking Debug - DateTime: 2025-06-24 13:00
[13-Jun-2025 19:38:03 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:03 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:03 UTC] Booking Debug - Params: guests=9, time=2025-06-24 13:00
[13-Jun-2025 19:38:03 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:03 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:03 UTC] Booking Debug - No available tables found
[13-Jun-2025 19:38:03 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:03 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:03 UTC] Booking Debug - Params: guests=9, time=2025-06-24 11:00:00
[13-Jun-2025 19:38:03 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:03 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:03 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:03 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:03 UTC] Booking Debug - Params: guests=9, time=2025-06-24 11:30:00
[13-Jun-2025 19:38:03 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:03 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:03 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:03 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:03 UTC] Booking Debug - Params: guests=9, time=2025-06-24 12:00:00
[13-Jun-2025 19:38:03 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:03 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:03 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:03 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:03 UTC] Booking Debug - Params: guests=9, time=2025-06-24 12:30:00
[13-Jun-2025 19:38:03 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:03 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:03 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:03 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:03 UTC] Booking Debug - Params: guests=9, time=2025-06-24 13:00:00
[13-Jun-2025 19:38:03 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:03 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:03 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:03 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:03 UTC] Booking Debug - Params: guests=9, time=2025-06-24 13:30:00
[13-Jun-2025 19:38:03 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:03 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:03 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:03 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:03 UTC] Booking Debug - Params: guests=9, time=2025-06-24 14:00:00
[13-Jun-2025 19:38:03 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:03 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:03 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:03 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:03 UTC] Booking Debug - Params: guests=9, time=2025-06-24 14:30:00
[13-Jun-2025 19:38:03 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:03 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:03 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:03 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:03 UTC] Booking Debug - Params: guests=9, time=2025-06-24 17:00:00
[13-Jun-2025 19:38:03 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:03 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:03 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:03 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:03 UTC] Booking Debug - Params: guests=9, time=2025-06-24 17:30:00
[13-Jun-2025 19:38:03 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:03 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:03 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:03 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:03 UTC] Booking Debug - Params: guests=9, time=2025-06-24 18:00:00
[13-Jun-2025 19:38:03 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:03 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:03 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:03 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:03 UTC] Booking Debug - Params: guests=9, time=2025-06-24 18:30:00
[13-Jun-2025 19:38:03 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:03 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:03 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:03 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:03 UTC] Booking Debug - Params: guests=9, time=2025-06-24 19:00:00
[13-Jun-2025 19:38:03 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:03 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:03 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:03 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:03 UTC] Booking Debug - Params: guests=9, time=2025-06-24 19:30:00
[13-Jun-2025 19:38:03 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:03 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:03 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:03 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:03 UTC] Booking Debug - Params: guests=9, time=2025-06-24 20:00:00
[13-Jun-2025 19:38:03 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:03 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:03 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:03 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:03 UTC] Booking Debug - Params: guests=9, time=2025-06-24 20:30:00
[13-Jun-2025 19:38:03 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:03 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:03 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:03 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:03 UTC] Booking Debug - Params: guests=9, time=2025-06-24 21:00:00
[13-Jun-2025 19:38:03 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:03 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:03 UTC] BookingController - Result from model: {"available":false,"message":"Kh\u00f4ng c\u00f3 b\u00e0n tr\u1ed1ng cho th\u1eddi gian n\u00e0y. Vui l\u00f2ng ch\u1ecdn th\u1eddi gian kh\u00e1c.","suggestedTimes":[]}
[13-Jun-2025 19:38:05 UTC] BookingController - checkAvailability called
[13-Jun-2025 19:38:05 UTC] BookingController - POST data: {"booking_date":"2025-06-24","booking_time":"13:00","party_size":"1"}
[13-Jun-2025 19:38:05 UTC] BookingController - Extracted: date=2025-06-24, time=13:00, partySize=1
[13-Jun-2025 19:38:05 UTC] Booking Debug - checkAvailability called
[13-Jun-2025 19:38:05 UTC] Booking Debug - Date: 2025-06-24, Time: 13:00, Party Size: 1
[13-Jun-2025 19:38:05 UTC] Booking Debug - DateTime: 2025-06-24 13:00
[13-Jun-2025 19:38:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:05 UTC] Booking Debug - Params: guests=1, time=2025-06-24 13:00
[13-Jun-2025 19:38:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:05 UTC] Booking Debug - No available tables found
[13-Jun-2025 19:38:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:05 UTC] Booking Debug - Params: guests=1, time=2025-06-24 11:00:00
[13-Jun-2025 19:38:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:05 UTC] Booking Debug - Params: guests=1, time=2025-06-24 11:30:00
[13-Jun-2025 19:38:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:05 UTC] Booking Debug - Params: guests=1, time=2025-06-24 12:00:00
[13-Jun-2025 19:38:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:05 UTC] Booking Debug - Params: guests=1, time=2025-06-24 12:30:00
[13-Jun-2025 19:38:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:05 UTC] Booking Debug - Params: guests=1, time=2025-06-24 13:00:00
[13-Jun-2025 19:38:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:05 UTC] Booking Debug - Params: guests=1, time=2025-06-24 13:30:00
[13-Jun-2025 19:38:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:05 UTC] Booking Debug - Params: guests=1, time=2025-06-24 14:00:00
[13-Jun-2025 19:38:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:05 UTC] Booking Debug - Params: guests=1, time=2025-06-24 14:30:00
[13-Jun-2025 19:38:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:05 UTC] Booking Debug - Params: guests=1, time=2025-06-24 17:00:00
[13-Jun-2025 19:38:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:05 UTC] Booking Debug - Params: guests=1, time=2025-06-24 17:30:00
[13-Jun-2025 19:38:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:05 UTC] Booking Debug - Params: guests=1, time=2025-06-24 18:00:00
[13-Jun-2025 19:38:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:05 UTC] Booking Debug - Params: guests=1, time=2025-06-24 18:30:00
[13-Jun-2025 19:38:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:05 UTC] Booking Debug - Params: guests=1, time=2025-06-24 19:00:00
[13-Jun-2025 19:38:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:05 UTC] Booking Debug - Params: guests=1, time=2025-06-24 19:30:00
[13-Jun-2025 19:38:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:05 UTC] Booking Debug - Params: guests=1, time=2025-06-24 20:00:00
[13-Jun-2025 19:38:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:05 UTC] Booking Debug - Params: guests=1, time=2025-06-24 20:30:00
[13-Jun-2025 19:38:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:05 UTC] Booking Debug - Params: guests=1, time=2025-06-24 21:00:00
[13-Jun-2025 19:38:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:05 UTC] BookingController - Result from model: {"available":false,"message":"Kh\u00f4ng c\u00f3 b\u00e0n tr\u1ed1ng cho th\u1eddi gian n\u00e0y. Vui l\u00f2ng ch\u1ecdn th\u1eddi gian kh\u00e1c.","suggestedTimes":[]}
[13-Jun-2025 19:38:08 UTC] BookingController - checkAvailability called
[13-Jun-2025 19:38:08 UTC] BookingController - POST data: {"booking_date":"2025-06-24","booking_time":"13:00","party_size":"2"}
[13-Jun-2025 19:38:08 UTC] BookingController - Extracted: date=2025-06-24, time=13:00, partySize=2
[13-Jun-2025 19:38:08 UTC] Booking Debug - checkAvailability called
[13-Jun-2025 19:38:08 UTC] Booking Debug - Date: 2025-06-24, Time: 13:00, Party Size: 2
[13-Jun-2025 19:38:08 UTC] Booking Debug - DateTime: 2025-06-24 13:00
[13-Jun-2025 19:38:08 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:08 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:08 UTC] Booking Debug - Params: guests=2, time=2025-06-24 13:00
[13-Jun-2025 19:38:08 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:08 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:08 UTC] Booking Debug - No available tables found
[13-Jun-2025 19:38:08 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:08 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:08 UTC] Booking Debug - Params: guests=2, time=2025-06-24 11:00:00
[13-Jun-2025 19:38:08 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:08 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:08 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:08 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:08 UTC] Booking Debug - Params: guests=2, time=2025-06-24 11:30:00
[13-Jun-2025 19:38:08 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:08 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:08 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:08 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:08 UTC] Booking Debug - Params: guests=2, time=2025-06-24 12:00:00
[13-Jun-2025 19:38:08 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:08 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:08 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:08 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:08 UTC] Booking Debug - Params: guests=2, time=2025-06-24 12:30:00
[13-Jun-2025 19:38:08 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:08 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:08 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:08 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:08 UTC] Booking Debug - Params: guests=2, time=2025-06-24 13:00:00
[13-Jun-2025 19:38:08 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:08 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:08 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:08 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:08 UTC] Booking Debug - Params: guests=2, time=2025-06-24 13:30:00
[13-Jun-2025 19:38:08 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:08 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:08 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:08 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:08 UTC] Booking Debug - Params: guests=2, time=2025-06-24 14:00:00
[13-Jun-2025 19:38:08 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:08 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:08 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:08 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:08 UTC] Booking Debug - Params: guests=2, time=2025-06-24 14:30:00
[13-Jun-2025 19:38:08 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:08 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:08 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:08 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:08 UTC] Booking Debug - Params: guests=2, time=2025-06-24 17:00:00
[13-Jun-2025 19:38:08 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:08 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:08 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:08 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:08 UTC] Booking Debug - Params: guests=2, time=2025-06-24 17:30:00
[13-Jun-2025 19:38:08 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:08 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:08 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:08 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:08 UTC] Booking Debug - Params: guests=2, time=2025-06-24 18:00:00
[13-Jun-2025 19:38:08 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:08 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:08 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:08 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:08 UTC] Booking Debug - Params: guests=2, time=2025-06-24 18:30:00
[13-Jun-2025 19:38:08 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:08 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:08 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:08 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:08 UTC] Booking Debug - Params: guests=2, time=2025-06-24 19:00:00
[13-Jun-2025 19:38:08 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:08 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:08 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:08 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:08 UTC] Booking Debug - Params: guests=2, time=2025-06-24 19:30:00
[13-Jun-2025 19:38:08 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:08 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:08 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:08 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:08 UTC] Booking Debug - Params: guests=2, time=2025-06-24 20:00:00
[13-Jun-2025 19:38:08 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:08 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:08 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:08 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:08 UTC] Booking Debug - Params: guests=2, time=2025-06-24 20:30:00
[13-Jun-2025 19:38:08 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:08 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:08 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:08 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:08 UTC] Booking Debug - Params: guests=2, time=2025-06-24 21:00:00
[13-Jun-2025 19:38:08 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:08 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:08 UTC] BookingController - Result from model: {"available":false,"message":"Kh\u00f4ng c\u00f3 b\u00e0n tr\u1ed1ng cho th\u1eddi gian n\u00e0y. Vui l\u00f2ng ch\u1ecdn th\u1eddi gian kh\u00e1c.","suggestedTimes":[]}
[13-Jun-2025 19:38:11 UTC] BookingController - checkAvailability called
[13-Jun-2025 19:38:11 UTC] BookingController - POST data: {"booking_date":"2025-06-24","booking_time":"18:00","party_size":"2"}
[13-Jun-2025 19:38:11 UTC] BookingController - Extracted: date=2025-06-24, time=18:00, partySize=2
[13-Jun-2025 19:38:11 UTC] Booking Debug - checkAvailability called
[13-Jun-2025 19:38:11 UTC] Booking Debug - Date: 2025-06-24, Time: 18:00, Party Size: 2
[13-Jun-2025 19:38:11 UTC] Booking Debug - DateTime: 2025-06-24 18:00
[13-Jun-2025 19:38:11 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:11 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:11 UTC] Booking Debug - Params: guests=2, time=2025-06-24 18:00
[13-Jun-2025 19:38:11 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:11 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:11 UTC] Booking Debug - No available tables found
[13-Jun-2025 19:38:11 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:11 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:11 UTC] Booking Debug - Params: guests=2, time=2025-06-24 11:00:00
[13-Jun-2025 19:38:11 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:11 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:11 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:11 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:11 UTC] Booking Debug - Params: guests=2, time=2025-06-24 11:30:00
[13-Jun-2025 19:38:11 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:11 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:11 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:11 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:11 UTC] Booking Debug - Params: guests=2, time=2025-06-24 12:00:00
[13-Jun-2025 19:38:11 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:11 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:11 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:11 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:11 UTC] Booking Debug - Params: guests=2, time=2025-06-24 12:30:00
[13-Jun-2025 19:38:11 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:11 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:11 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:11 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:11 UTC] Booking Debug - Params: guests=2, time=2025-06-24 13:00:00
[13-Jun-2025 19:38:11 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:11 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:11 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:11 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:11 UTC] Booking Debug - Params: guests=2, time=2025-06-24 13:30:00
[13-Jun-2025 19:38:11 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:11 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:11 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:11 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:11 UTC] Booking Debug - Params: guests=2, time=2025-06-24 14:00:00
[13-Jun-2025 19:38:11 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:11 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:11 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:11 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:11 UTC] Booking Debug - Params: guests=2, time=2025-06-24 14:30:00
[13-Jun-2025 19:38:11 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:11 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:11 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:11 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:11 UTC] Booking Debug - Params: guests=2, time=2025-06-24 17:00:00
[13-Jun-2025 19:38:11 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:11 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:11 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:11 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:11 UTC] Booking Debug - Params: guests=2, time=2025-06-24 17:30:00
[13-Jun-2025 19:38:11 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:11 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:11 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:11 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:11 UTC] Booking Debug - Params: guests=2, time=2025-06-24 18:00:00
[13-Jun-2025 19:38:11 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:11 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:11 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:11 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:11 UTC] Booking Debug - Params: guests=2, time=2025-06-24 18:30:00
[13-Jun-2025 19:38:11 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:11 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:11 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:11 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:11 UTC] Booking Debug - Params: guests=2, time=2025-06-24 19:00:00
[13-Jun-2025 19:38:11 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:11 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:11 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:11 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:11 UTC] Booking Debug - Params: guests=2, time=2025-06-24 19:30:00
[13-Jun-2025 19:38:11 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:11 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:11 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:11 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:11 UTC] Booking Debug - Params: guests=2, time=2025-06-24 20:00:00
[13-Jun-2025 19:38:11 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:11 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:11 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:11 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:11 UTC] Booking Debug - Params: guests=2, time=2025-06-24 20:30:00
[13-Jun-2025 19:38:11 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:11 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:11 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:11 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:11 UTC] Booking Debug - Params: guests=2, time=2025-06-24 21:00:00
[13-Jun-2025 19:38:11 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:11 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:11 UTC] BookingController - Result from model: {"available":false,"message":"Kh\u00f4ng c\u00f3 b\u00e0n tr\u1ed1ng cho th\u1eddi gian n\u00e0y. Vui l\u00f2ng ch\u1ecdn th\u1eddi gian kh\u00e1c.","suggestedTimes":[]}
[13-Jun-2025 19:38:13 UTC] BookingController - checkAvailability called
[13-Jun-2025 19:38:13 UTC] BookingController - POST data: {"booking_date":"2025-06-24","booking_time":"18:00","party_size":"5"}
[13-Jun-2025 19:38:13 UTC] BookingController - Extracted: date=2025-06-24, time=18:00, partySize=5
[13-Jun-2025 19:38:13 UTC] Booking Debug - checkAvailability called
[13-Jun-2025 19:38:13 UTC] Booking Debug - Date: 2025-06-24, Time: 18:00, Party Size: 5
[13-Jun-2025 19:38:13 UTC] Booking Debug - DateTime: 2025-06-24 18:00
[13-Jun-2025 19:38:13 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:13 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:13 UTC] Booking Debug - Params: guests=5, time=2025-06-24 18:00
[13-Jun-2025 19:38:13 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:13 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:13 UTC] Booking Debug - No available tables found
[13-Jun-2025 19:38:13 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:13 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:13 UTC] Booking Debug - Params: guests=5, time=2025-06-24 11:00:00
[13-Jun-2025 19:38:13 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:13 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:13 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:13 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:13 UTC] Booking Debug - Params: guests=5, time=2025-06-24 11:30:00
[13-Jun-2025 19:38:13 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:13 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:13 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:13 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:13 UTC] Booking Debug - Params: guests=5, time=2025-06-24 12:00:00
[13-Jun-2025 19:38:13 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:13 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:13 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:13 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:13 UTC] Booking Debug - Params: guests=5, time=2025-06-24 12:30:00
[13-Jun-2025 19:38:13 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:13 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:13 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:13 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:13 UTC] Booking Debug - Params: guests=5, time=2025-06-24 13:00:00
[13-Jun-2025 19:38:13 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:13 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:13 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:13 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:13 UTC] Booking Debug - Params: guests=5, time=2025-06-24 13:30:00
[13-Jun-2025 19:38:13 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:13 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:13 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:13 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:13 UTC] Booking Debug - Params: guests=5, time=2025-06-24 14:00:00
[13-Jun-2025 19:38:13 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:13 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:13 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:13 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:13 UTC] Booking Debug - Params: guests=5, time=2025-06-24 14:30:00
[13-Jun-2025 19:38:13 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:13 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:13 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:13 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:13 UTC] Booking Debug - Params: guests=5, time=2025-06-24 17:00:00
[13-Jun-2025 19:38:13 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:13 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:13 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:13 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:13 UTC] Booking Debug - Params: guests=5, time=2025-06-24 17:30:00
[13-Jun-2025 19:38:13 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:13 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:13 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:13 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:13 UTC] Booking Debug - Params: guests=5, time=2025-06-24 18:00:00
[13-Jun-2025 19:38:13 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:13 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:13 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:13 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:13 UTC] Booking Debug - Params: guests=5, time=2025-06-24 18:30:00
[13-Jun-2025 19:38:13 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:13 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:13 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:13 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:13 UTC] Booking Debug - Params: guests=5, time=2025-06-24 19:00:00
[13-Jun-2025 19:38:13 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:13 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:13 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:13 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:13 UTC] Booking Debug - Params: guests=5, time=2025-06-24 19:30:00
[13-Jun-2025 19:38:13 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:13 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:13 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:13 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:13 UTC] Booking Debug - Params: guests=5, time=2025-06-24 20:00:00
[13-Jun-2025 19:38:13 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:13 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:13 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:13 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:13 UTC] Booking Debug - Params: guests=5, time=2025-06-24 20:30:00
[13-Jun-2025 19:38:13 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:13 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:13 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:38:13 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:38:13 UTC] Booking Debug - Params: guests=5, time=2025-06-24 21:00:00
[13-Jun-2025 19:38:13 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:38:13 UTC] SQL Error: 42S22
[13-Jun-2025 19:38:13 UTC] BookingController - Result from model: {"available":false,"message":"Kh\u00f4ng c\u00f3 b\u00e0n tr\u1ed1ng cho th\u1eddi gian n\u00e0y. Vui l\u00f2ng ch\u1ecdn th\u1eddi gian kh\u00e1c.","suggestedTimes":[]}
[13-Jun-2025 19:41:05 UTC] BookingController - checkAvailability called
[13-Jun-2025 19:41:05 UTC] BookingController - POST data: {"booking_date":"2025-07-03","booking_time":"12:30","party_size":"7"}
[13-Jun-2025 19:41:05 UTC] BookingController - Extracted: date=2025-07-03, time=12:30, partySize=7
[13-Jun-2025 19:41:05 UTC] Booking Debug - checkAvailability called
[13-Jun-2025 19:41:05 UTC] Booking Debug - Date: 2025-07-03, Time: 12:30, Party Size: 7
[13-Jun-2025 19:41:05 UTC] Booking Debug - DateTime: 2025-07-03 12:30
[13-Jun-2025 19:41:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:41:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:41:05 UTC] Booking Debug - Params: guests=7, time=2025-07-03 12:30
[13-Jun-2025 19:41:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:41:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:41:05 UTC] Booking Debug - No available tables found
[13-Jun-2025 19:41:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:41:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:41:05 UTC] Booking Debug - Params: guests=7, time=2025-07-03 11:00:00
[13-Jun-2025 19:41:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:41:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:41:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:41:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:41:05 UTC] Booking Debug - Params: guests=7, time=2025-07-03 11:30:00
[13-Jun-2025 19:41:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:41:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:41:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:41:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:41:05 UTC] Booking Debug - Params: guests=7, time=2025-07-03 12:00:00
[13-Jun-2025 19:41:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:41:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:41:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:41:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:41:05 UTC] Booking Debug - Params: guests=7, time=2025-07-03 12:30:00
[13-Jun-2025 19:41:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:41:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:41:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:41:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:41:05 UTC] Booking Debug - Params: guests=7, time=2025-07-03 13:00:00
[13-Jun-2025 19:41:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:41:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:41:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:41:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:41:05 UTC] Booking Debug - Params: guests=7, time=2025-07-03 13:30:00
[13-Jun-2025 19:41:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:41:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:41:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:41:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:41:05 UTC] Booking Debug - Params: guests=7, time=2025-07-03 14:00:00
[13-Jun-2025 19:41:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:41:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:41:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:41:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:41:05 UTC] Booking Debug - Params: guests=7, time=2025-07-03 14:30:00
[13-Jun-2025 19:41:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:41:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:41:05 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:41:05 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:41:05 UTC] Booking Debug - Params: guests=7, time=2025-07-03 17:00:00
[13-Jun-2025 19:41:05 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:41:05 UTC] SQL Error: 42S22
[13-Jun-2025 19:41:06 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:41:06 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:41:06 UTC] Booking Debug - Params: guests=7, time=2025-07-03 17:30:00
[13-Jun-2025 19:41:06 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:41:06 UTC] SQL Error: 42S22
[13-Jun-2025 19:41:06 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:41:06 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:41:06 UTC] Booking Debug - Params: guests=7, time=2025-07-03 18:00:00
[13-Jun-2025 19:41:06 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:41:06 UTC] SQL Error: 42S22
[13-Jun-2025 19:41:06 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:41:06 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:41:06 UTC] Booking Debug - Params: guests=7, time=2025-07-03 18:30:00
[13-Jun-2025 19:41:06 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:41:06 UTC] SQL Error: 42S22
[13-Jun-2025 19:41:06 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:41:06 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:41:06 UTC] Booking Debug - Params: guests=7, time=2025-07-03 19:00:00
[13-Jun-2025 19:41:06 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:41:06 UTC] SQL Error: 42S22
[13-Jun-2025 19:41:06 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:41:06 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:41:06 UTC] Booking Debug - Params: guests=7, time=2025-07-03 19:30:00
[13-Jun-2025 19:41:06 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:41:06 UTC] SQL Error: 42S22
[13-Jun-2025 19:41:06 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:41:06 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:41:06 UTC] Booking Debug - Params: guests=7, time=2025-07-03 20:00:00
[13-Jun-2025 19:41:06 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:41:06 UTC] SQL Error: 42S22
[13-Jun-2025 19:41:06 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:41:06 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:41:06 UTC] Booking Debug - Params: guests=7, time=2025-07-03 20:30:00
[13-Jun-2025 19:41:06 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:41:06 UTC] SQL Error: 42S22
[13-Jun-2025 19:41:06 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:41:06 UTC] Booking Debug - SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    AND t.id NOT IN (
                        SELECT DISTINCT b.table_id
                        FROM bookings b
                        WHERE b.table_id IS NOT NULL
                        AND b.status IN ('confirmed', 'pending')
                        AND ABS(TIMESTAMPDIFF(MINUTE, b.booking_datetime, :reservation_time)) < 120
                    )
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:41:06 UTC] Booking Debug - Params: guests=7, time=2025-07-03 21:00:00
[13-Jun-2025 19:41:06 UTC] Error in getAvailableTables: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'b.booking_datetime' in 'where clause'
[13-Jun-2025 19:41:06 UTC] SQL Error: 42S22
[13-Jun-2025 19:41:06 UTC] BookingController - Result from model: {"available":false,"message":"Kh\u00f4ng c\u00f3 b\u00e0n tr\u1ed1ng cho th\u1eddi gian n\u00e0y. Vui l\u00f2ng ch\u1ecdn th\u1eddi gian kh\u00e1c.","suggestedTimes":[]}
[13-Jun-2025 19:44:18 UTC] BookingController - checkAvailability called
[13-Jun-2025 19:44:18 UTC] BookingController - POST data: {"booking_date":"2025-07-03","booking_time":"12:00","party_size":"6"}
[13-Jun-2025 19:44:18 UTC] BookingController - Extracted: date=2025-07-03, time=12:00, partySize=6
[13-Jun-2025 19:44:18 UTC] Booking Debug - checkAvailability called
[13-Jun-2025 19:44:18 UTC] Booking Debug - Date: 2025-07-03, Time: 12:00, Party Size: 6
[13-Jun-2025 19:44:18 UTC] Booking Debug - DateTime: 2025-07-03 12:00
[13-Jun-2025 19:44:18 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:44:18 UTC] Booking Debug - Simplified SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:44:18 UTC] Booking Debug - Params: guests=6
[13-Jun-2025 19:44:18 UTC] Booking Debug - Available tables found: 3
[13-Jun-2025 19:44:18 UTC] Booking Debug - First available table: capacity=10, number=D1
[13-Jun-2025 19:44:18 UTC] Booking Debug - Found 3 available tables
[13-Jun-2025 19:44:18 UTC] BookingController - Result from model: {"available":true,"message":"C\u00f3 b\u00e0n tr\u1ed1ng cho th\u1eddi gian n\u00e0y","suggestedTimes":[]}
[13-Jun-2025 19:44:21 UTC] BookingController - checkAvailability called
[13-Jun-2025 19:44:21 UTC] BookingController - POST data: {"booking_date":"2025-07-03","booking_time":"17:00","party_size":"6"}
[13-Jun-2025 19:44:21 UTC] BookingController - Extracted: date=2025-07-03, time=17:00, partySize=6
[13-Jun-2025 19:44:21 UTC] Booking Debug - checkAvailability called
[13-Jun-2025 19:44:21 UTC] Booking Debug - Date: 2025-07-03, Time: 17:00, Party Size: 6
[13-Jun-2025 19:44:21 UTC] Booking Debug - DateTime: 2025-07-03 17:00
[13-Jun-2025 19:44:21 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:44:21 UTC] Booking Debug - Simplified SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:44:21 UTC] Booking Debug - Params: guests=6
[13-Jun-2025 19:44:21 UTC] Booking Debug - Available tables found: 3
[13-Jun-2025 19:44:21 UTC] Booking Debug - First available table: capacity=10, number=D1
[13-Jun-2025 19:44:21 UTC] Booking Debug - Found 3 available tables
[13-Jun-2025 19:44:21 UTC] BookingController - Result from model: {"available":true,"message":"C\u00f3 b\u00e0n tr\u1ed1ng cho th\u1eddi gian n\u00e0y","suggestedTimes":[]}
[13-Jun-2025 19:44:22 UTC] BookingController - checkAvailability called
[13-Jun-2025 19:44:22 UTC] BookingController - POST data: {"booking_date":"2025-07-03","booking_time":"17:00","party_size":"2"}
[13-Jun-2025 19:44:22 UTC] BookingController - Extracted: date=2025-07-03, time=17:00, partySize=2
[13-Jun-2025 19:44:22 UTC] Booking Debug - checkAvailability called
[13-Jun-2025 19:44:22 UTC] Booking Debug - Date: 2025-07-03, Time: 17:00, Party Size: 2
[13-Jun-2025 19:44:22 UTC] Booking Debug - DateTime: 2025-07-03 17:00
[13-Jun-2025 19:44:22 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:44:22 UTC] Booking Debug - Simplified SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:44:22 UTC] Booking Debug - Params: guests=2
[13-Jun-2025 19:44:22 UTC] Booking Debug - Available tables found: 4
[13-Jun-2025 19:44:22 UTC] Booking Debug - First available table: capacity=5, number=TABLE_5
[13-Jun-2025 19:44:22 UTC] Booking Debug - Found 4 available tables
[13-Jun-2025 19:44:22 UTC] BookingController - Result from model: {"available":true,"message":"C\u00f3 b\u00e0n tr\u1ed1ng cho th\u1eddi gian n\u00e0y","suggestedTimes":[]}
[13-Jun-2025 19:44:24 UTC] BookingController - checkAvailability called
[13-Jun-2025 19:44:24 UTC] BookingController - POST data: {"booking_date":"2025-07-03","booking_time":"17:00","party_size":"17"}
[13-Jun-2025 19:44:24 UTC] BookingController - Extracted: date=2025-07-03, time=17:00, partySize=17
[13-Jun-2025 19:44:24 UTC] Booking Debug - checkAvailability called
[13-Jun-2025 19:44:24 UTC] Booking Debug - Date: 2025-07-03, Time: 17:00, Party Size: 17
[13-Jun-2025 19:44:24 UTC] Booking Debug - DateTime: 2025-07-03 17:00
[13-Jun-2025 19:44:24 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:44:24 UTC] Booking Debug - Simplified SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:44:24 UTC] Booking Debug - Params: guests=17
[13-Jun-2025 19:44:24 UTC] Booking Debug - Available tables found: 0
[13-Jun-2025 19:44:24 UTC] Booking Debug - No available tables found
[13-Jun-2025 19:44:24 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:44:24 UTC] Booking Debug - Simplified SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:44:24 UTC] Booking Debug - Params: guests=17
[13-Jun-2025 19:44:24 UTC] Booking Debug - Available tables found: 0
[13-Jun-2025 19:44:24 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:44:24 UTC] Booking Debug - Simplified SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:44:24 UTC] Booking Debug - Params: guests=17
[13-Jun-2025 19:44:24 UTC] Booking Debug - Available tables found: 0
[13-Jun-2025 19:44:24 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:44:24 UTC] Booking Debug - Simplified SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:44:24 UTC] Booking Debug - Params: guests=17
[13-Jun-2025 19:44:24 UTC] Booking Debug - Available tables found: 0
[13-Jun-2025 19:44:24 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:44:24 UTC] Booking Debug - Simplified SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:44:24 UTC] Booking Debug - Params: guests=17
[13-Jun-2025 19:44:24 UTC] Booking Debug - Available tables found: 0
[13-Jun-2025 19:44:24 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:44:24 UTC] Booking Debug - Simplified SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:44:24 UTC] Booking Debug - Params: guests=17
[13-Jun-2025 19:44:24 UTC] Booking Debug - Available tables found: 0
[13-Jun-2025 19:44:24 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:44:24 UTC] Booking Debug - Simplified SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:44:24 UTC] Booking Debug - Params: guests=17
[13-Jun-2025 19:44:24 UTC] Booking Debug - Available tables found: 0
[13-Jun-2025 19:44:24 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:44:24 UTC] Booking Debug - Simplified SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:44:24 UTC] Booking Debug - Params: guests=17
[13-Jun-2025 19:44:24 UTC] Booking Debug - Available tables found: 0
[13-Jun-2025 19:44:24 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:44:24 UTC] Booking Debug - Simplified SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:44:24 UTC] Booking Debug - Params: guests=17
[13-Jun-2025 19:44:24 UTC] Booking Debug - Available tables found: 0
[13-Jun-2025 19:44:24 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:44:24 UTC] Booking Debug - Simplified SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:44:24 UTC] Booking Debug - Params: guests=17
[13-Jun-2025 19:44:24 UTC] Booking Debug - Available tables found: 0
[13-Jun-2025 19:44:24 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:44:24 UTC] Booking Debug - Simplified SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:44:24 UTC] Booking Debug - Params: guests=17
[13-Jun-2025 19:44:24 UTC] Booking Debug - Available tables found: 0
[13-Jun-2025 19:44:24 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:44:24 UTC] Booking Debug - Simplified SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:44:24 UTC] Booking Debug - Params: guests=17
[13-Jun-2025 19:44:24 UTC] Booking Debug - Available tables found: 0
[13-Jun-2025 19:44:24 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:44:24 UTC] Booking Debug - Simplified SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:44:24 UTC] Booking Debug - Params: guests=17
[13-Jun-2025 19:44:24 UTC] Booking Debug - Available tables found: 0
[13-Jun-2025 19:44:24 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:44:24 UTC] Booking Debug - Simplified SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:44:24 UTC] Booking Debug - Params: guests=17
[13-Jun-2025 19:44:24 UTC] Booking Debug - Available tables found: 0
[13-Jun-2025 19:44:24 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:44:24 UTC] Booking Debug - Simplified SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:44:24 UTC] Booking Debug - Params: guests=17
[13-Jun-2025 19:44:24 UTC] Booking Debug - Available tables found: 0
[13-Jun-2025 19:44:24 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:44:24 UTC] Booking Debug - Simplified SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:44:24 UTC] Booking Debug - Params: guests=17
[13-Jun-2025 19:44:24 UTC] Booking Debug - Available tables found: 0
[13-Jun-2025 19:44:24 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:44:24 UTC] Booking Debug - Simplified SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:44:24 UTC] Booking Debug - Params: guests=17
[13-Jun-2025 19:44:24 UTC] Booking Debug - Available tables found: 0
[13-Jun-2025 19:44:24 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:44:24 UTC] Booking Debug - Simplified SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:44:24 UTC] Booking Debug - Params: guests=17
[13-Jun-2025 19:44:24 UTC] Booking Debug - Available tables found: 0
[13-Jun-2025 19:44:24 UTC] BookingController - Result from model: {"available":false,"message":"Kh\u00f4ng c\u00f3 b\u00e0n tr\u1ed1ng cho th\u1eddi gian n\u00e0y. Vui l\u00f2ng ch\u1ecdn th\u1eddi gian kh\u00e1c.","suggestedTimes":[]}
[13-Jun-2025 19:44:58 UTC] Menu Search Debug - Raw search: 
[13-Jun-2025 19:44:58 UTC] Menu Search Debug - Decoded search: 
[13-Jun-2025 19:44:58 UTC] Menu Search Debug - Search term length: 0
[13-Jun-2025 19:44:58 UTC] Menu Search Debug - Search term: 
[13-Jun-2025 19:44:58 UTC] Menu Search Debug - Raw search: empty
[13-Jun-2025 19:44:58 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[13-Jun-2025 19:44:58 UTC] Menu Search Debug - All params: []
[13-Jun-2025 19:44:58 UTC] Menu Search Debug - Category ID: 0
[13-Jun-2025 19:44:58 UTC] Menu Search Debug - Search term: 
[13-Jun-2025 19:44:58 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[13-Jun-2025 19:44:58 UTC] Food Model Debug - Params: []
[13-Jun-2025 19:44:58 UTC] Food Model Debug - Found 5 results
[13-Jun-2025 19:44:58 UTC] Menu Search Debug - Test query found 5 foods
[13-Jun-2025 19:44:58 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[13-Jun-2025 19:44:58 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[13-Jun-2025 19:44:58 UTC] Food Model Debug - Params: []
[13-Jun-2025 19:44:58 UTC] Food Model Debug - Found 12 results
[13-Jun-2025 19:45:50 UTC] BookingController - checkAvailability called
[13-Jun-2025 19:45:50 UTC] BookingController - POST data: {"booking_date":"2025-06-25","booking_time":"12:30","party_size":"5"}
[13-Jun-2025 19:45:50 UTC] BookingController - Extracted: date=2025-06-25, time=12:30, partySize=5
[13-Jun-2025 19:45:50 UTC] Booking Debug - checkAvailability called
[13-Jun-2025 19:45:50 UTC] Booking Debug - Date: 2025-06-25, Time: 12:30, Party Size: 5
[13-Jun-2025 19:45:50 UTC] Booking Debug - DateTime: 2025-06-25 12:30
[13-Jun-2025 19:45:50 UTC] Booking Debug - Tables in database: 6
[13-Jun-2025 19:45:50 UTC] Booking Debug - Simplified SQL: SELECT t.*
                    FROM tables t
                    WHERE t.capacity >= :number_of_guests
                    AND t.is_available = 1
                    ORDER BY t.capacity, t.table_number
[13-Jun-2025 19:45:50 UTC] Booking Debug - Params: guests=5
[13-Jun-2025 19:45:50 UTC] Booking Debug - Available tables found: 4
[13-Jun-2025 19:45:50 UTC] Booking Debug - First available table: capacity=5, number=TABLE_5
[13-Jun-2025 19:45:50 UTC] Booking Debug - Found 4 available tables
[13-Jun-2025 19:45:50 UTC] BookingController - Result from model: {"available":true,"message":"C\u00f3 b\u00e0n tr\u1ed1ng cho th\u1eddi gian n\u00e0y","suggestedTimes":[]}
[13-Jun-2025 20:08:43 UTC] PHP Warning:  include(views/customer/auth/login.php): Failed to open stream: No such file or directory in C:\wamp64\www\buffet_booking_mvc\controllers\BaseController.php on line 17
[13-Jun-2025 20:08:43 UTC] PHP Stack trace:
[13-Jun-2025 20:08:43 UTC] PHP   1. {main}() C:\wamp64\www\buffet_booking_mvc\index.php:0
[13-Jun-2025 20:08:43 UTC] PHP   2. routeRequest($segments = [0 => 'auth', 1 => 'login']) C:\wamp64\www\buffet_booking_mvc\index.php:36
[13-Jun-2025 20:08:43 UTC] PHP   3. handleCustomerRoute($page = 'auth', $action = 'login', $param = NULL) C:\wamp64\www\buffet_booking_mvc\index.php:110
[13-Jun-2025 20:08:43 UTC] PHP   4. AuthController->login() C:\wamp64\www\buffet_booking_mvc\index.php:858
[13-Jun-2025 20:08:43 UTC] PHP   5. AuthController->showLoginForm() C:\wamp64\www\buffet_booking_mvc\controllers\AuthController.php:25
[13-Jun-2025 20:08:43 UTC] PHP   6. BaseController->loadView($view = 'customer/auth/login', $data = ['title' => 'Đăng Nhập - Buffet Booking']) C:\wamp64\www\buffet_booking_mvc\controllers\AuthController.php:53
[13-Jun-2025 20:08:43 UTC] PHP Warning:  include(): Failed opening 'views/customer/auth/login.php' for inclusion (include_path='.;C:\php\pear') in C:\wamp64\www\buffet_booking_mvc\controllers\BaseController.php on line 17
[13-Jun-2025 20:08:43 UTC] PHP Stack trace:
[13-Jun-2025 20:08:43 UTC] PHP   1. {main}() C:\wamp64\www\buffet_booking_mvc\index.php:0
[13-Jun-2025 20:08:43 UTC] PHP   2. routeRequest($segments = [0 => 'auth', 1 => 'login']) C:\wamp64\www\buffet_booking_mvc\index.php:36
[13-Jun-2025 20:08:43 UTC] PHP   3. handleCustomerRoute($page = 'auth', $action = 'login', $param = NULL) C:\wamp64\www\buffet_booking_mvc\index.php:110
[13-Jun-2025 20:08:43 UTC] PHP   4. AuthController->login() C:\wamp64\www\buffet_booking_mvc\index.php:858
[13-Jun-2025 20:08:43 UTC] PHP   5. AuthController->showLoginForm() C:\wamp64\www\buffet_booking_mvc\controllers\AuthController.php:25
[13-Jun-2025 20:08:43 UTC] PHP   6. BaseController->loadView($view = 'customer/auth/login', $data = ['title' => 'Đăng Nhập - Buffet Booking']) C:\wamp64\www\buffet_booking_mvc\controllers\AuthController.php:53
[13-Jun-2025 20:08:59 UTC] PHP Warning:  include(views/customer/auth/login.php): Failed to open stream: No such file or directory in C:\wamp64\www\buffet_booking_mvc\controllers\BaseController.php on line 17
[13-Jun-2025 20:08:59 UTC] PHP Stack trace:
[13-Jun-2025 20:08:59 UTC] PHP   1. {main}() C:\wamp64\www\buffet_booking_mvc\index.php:0
[13-Jun-2025 20:08:59 UTC] PHP   2. routeRequest($segments = [0 => 'auth', 1 => 'login']) C:\wamp64\www\buffet_booking_mvc\index.php:36
[13-Jun-2025 20:08:59 UTC] PHP   3. handleCustomerRoute($page = 'auth', $action = 'login', $param = NULL) C:\wamp64\www\buffet_booking_mvc\index.php:110
[13-Jun-2025 20:08:59 UTC] PHP   4. AuthController->login() C:\wamp64\www\buffet_booking_mvc\index.php:858
[13-Jun-2025 20:08:59 UTC] PHP   5. AuthController->showLoginForm() C:\wamp64\www\buffet_booking_mvc\controllers\AuthController.php:25
[13-Jun-2025 20:08:59 UTC] PHP   6. BaseController->loadView($view = 'customer/auth/login', $data = ['title' => 'Đăng Nhập - Buffet Booking']) C:\wamp64\www\buffet_booking_mvc\controllers\AuthController.php:53
[13-Jun-2025 20:08:59 UTC] PHP Warning:  include(): Failed opening 'views/customer/auth/login.php' for inclusion (include_path='.;C:\php\pear') in C:\wamp64\www\buffet_booking_mvc\controllers\BaseController.php on line 17
[13-Jun-2025 20:08:59 UTC] PHP Stack trace:
[13-Jun-2025 20:08:59 UTC] PHP   1. {main}() C:\wamp64\www\buffet_booking_mvc\index.php:0
[13-Jun-2025 20:08:59 UTC] PHP   2. routeRequest($segments = [0 => 'auth', 1 => 'login']) C:\wamp64\www\buffet_booking_mvc\index.php:36
[13-Jun-2025 20:08:59 UTC] PHP   3. handleCustomerRoute($page = 'auth', $action = 'login', $param = NULL) C:\wamp64\www\buffet_booking_mvc\index.php:110
[13-Jun-2025 20:08:59 UTC] PHP   4. AuthController->login() C:\wamp64\www\buffet_booking_mvc\index.php:858
[13-Jun-2025 20:08:59 UTC] PHP   5. AuthController->showLoginForm() C:\wamp64\www\buffet_booking_mvc\controllers\AuthController.php:25
[13-Jun-2025 20:08:59 UTC] PHP   6. BaseController->loadView($view = 'customer/auth/login', $data = ['title' => 'Đăng Nhập - Buffet Booking']) C:\wamp64\www\buffet_booking_mvc\controllers\AuthController.php:53
[13-Jun-2025 20:23:39 UTC] Admin directory accessed: /buffet_booking_mvc/admin/
[13-Jun-2025 20:24:11 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[13-Jun-2025 20:24:11 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 697792f05f6036b269958c7641e680772ec68cf0162dbaed4f78c888950fc646
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [success] => Đăng nhập thành công!
)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[13-Jun-2025 20:24:11 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[13-Jun-2025 20:24:11 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 697792f05f6036b269958c7641e680772ec68cf0162dbaed4f78c888950fc646
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [success] => Đăng nhập thành công!
)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[13-Jun-2025 20:24:11 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[13-Jun-2025 20:24:11 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 697792f05f6036b269958c7641e680772ec68cf0162dbaed4f78c888950fc646
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [success] => Đăng nhập thành công!
)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[13-Jun-2025 20:24:41 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[13-Jun-2025 20:24:41 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 697792f05f6036b269958c7641e680772ec68cf0162dbaed4f78c888950fc646
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [success] => Đăng nhập thành công!
)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[13-Jun-2025 20:24:41 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[13-Jun-2025 20:24:41 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 697792f05f6036b269958c7641e680772ec68cf0162dbaed4f78c888950fc646
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [success] => Đăng nhập thành công!
)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[13-Jun-2025 20:24:41 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[13-Jun-2025 20:24:41 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 697792f05f6036b269958c7641e680772ec68cf0162dbaed4f78c888950fc646
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [success] => Đăng nhập thành công!
)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[13-Jun-2025 20:25:11 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[13-Jun-2025 20:25:11 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 697792f05f6036b269958c7641e680772ec68cf0162dbaed4f78c888950fc646
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [success] => Đăng nhập thành công!
)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[13-Jun-2025 20:25:11 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[13-Jun-2025 20:25:11 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 697792f05f6036b269958c7641e680772ec68cf0162dbaed4f78c888950fc646
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [success] => Đăng nhập thành công!
)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[13-Jun-2025 20:25:11 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[13-Jun-2025 20:25:11 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 697792f05f6036b269958c7641e680772ec68cf0162dbaed4f78c888950fc646
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [success] => Đăng nhập thành công!
)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[13-Jun-2025 20:25:41 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[13-Jun-2025 20:25:41 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 697792f05f6036b269958c7641e680772ec68cf0162dbaed4f78c888950fc646
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [success] => Đăng nhập thành công!
)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[13-Jun-2025 20:25:41 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[13-Jun-2025 20:25:41 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 697792f05f6036b269958c7641e680772ec68cf0162dbaed4f78c888950fc646
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [success] => Đăng nhập thành công!
)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[13-Jun-2025 20:25:41 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[13-Jun-2025 20:25:41 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 697792f05f6036b269958c7641e680772ec68cf0162dbaed4f78c888950fc646
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [success] => Đăng nhập thành công!
)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[13-Jun-2025 20:26:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[13-Jun-2025 20:26:21 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 697792f05f6036b269958c7641e680772ec68cf0162dbaed4f78c888950fc646
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [success] => Đăng nhập thành công!
)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[13-Jun-2025 20:26:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[13-Jun-2025 20:26:21 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 697792f05f6036b269958c7641e680772ec68cf0162dbaed4f78c888950fc646
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [success] => Đăng nhập thành công!
)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[13-Jun-2025 20:26:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[13-Jun-2025 20:26:21 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 697792f05f6036b269958c7641e680772ec68cf0162dbaed4f78c888950fc646
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [success] => Đăng nhập thành công!
)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[13-Jun-2025 20:27:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[13-Jun-2025 20:27:21 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 697792f05f6036b269958c7641e680772ec68cf0162dbaed4f78c888950fc646
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [success] => Đăng nhập thành công!
)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[13-Jun-2025 20:27:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[13-Jun-2025 20:27:21 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 697792f05f6036b269958c7641e680772ec68cf0162dbaed4f78c888950fc646
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [success] => Đăng nhập thành công!
)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[13-Jun-2025 20:27:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[13-Jun-2025 20:27:21 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 697792f05f6036b269958c7641e680772ec68cf0162dbaed4f78c888950fc646
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [success] => Đăng nhập thành công!
)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 05:51:19 UTC] PHP Fatal error:  Uncaught Error: Call to undefined method AuthController::index() in C:\wamp64\www\buffet_booking_mvc\index.php:860
Stack trace:
#0 C:\wamp64\www\buffet_booking_mvc\index.php(110): handleCustomerRoute('auth', 'forgot-password', NULL)
#1 C:\wamp64\www\buffet_booking_mvc\index.php(36): routeRequest(Array)
#2 {main}
  thrown in C:\wamp64\www\buffet_booking_mvc\index.php on line 860
[14-Jun-2025 06:48:14 UTC] PHP Warning:  Undefined array key "confirm_password" in C:\wamp64\www\buffet_booking_mvc\controllers\AuthController.php on line 133
[14-Jun-2025 06:48:14 UTC] PHP Stack trace:
[14-Jun-2025 06:48:14 UTC] PHP   1. {main}() C:\wamp64\www\buffet_booking_mvc\index.php:0
[14-Jun-2025 06:48:14 UTC] PHP   2. routeRequest($segments = [0 => 'auth', 1 => 'register']) C:\wamp64\www\buffet_booking_mvc\index.php:36
[14-Jun-2025 06:48:14 UTC] PHP   3. handleCustomerRoute($page = 'auth', $action = 'register', $param = NULL) C:\wamp64\www\buffet_booking_mvc\index.php:110
[14-Jun-2025 06:48:14 UTC] PHP   4. AuthController->register() C:\wamp64\www\buffet_booking_mvc\index.php:859
[14-Jun-2025 06:48:14 UTC] PHP   5. AuthController->handleRegister() C:\wamp64\www\buffet_booking_mvc\controllers\AuthController.php:38
[14-Jun-2025 06:51:16 UTC] PHP Warning:  Undefined array key "confirm_password" in C:\wamp64\www\buffet_booking_mvc\controllers\AuthController.php on line 133
[14-Jun-2025 06:51:16 UTC] PHP Stack trace:
[14-Jun-2025 06:51:16 UTC] PHP   1. {main}() C:\wamp64\www\buffet_booking_mvc\index.php:0
[14-Jun-2025 06:51:16 UTC] PHP   2. routeRequest($segments = [0 => 'auth', 1 => 'register']) C:\wamp64\www\buffet_booking_mvc\index.php:36
[14-Jun-2025 06:51:16 UTC] PHP   3. handleCustomerRoute($page = 'auth', $action = 'register', $param = NULL) C:\wamp64\www\buffet_booking_mvc\index.php:110
[14-Jun-2025 06:51:16 UTC] PHP   4. AuthController->register() C:\wamp64\www\buffet_booking_mvc\index.php:859
[14-Jun-2025 06:51:16 UTC] PHP   5. AuthController->handleRegister() C:\wamp64\www\buffet_booking_mvc\controllers\AuthController.php:38
[14-Jun-2025 07:14:33 UTC] Admin directory accessed: /buffet_booking_mvc/admin/
[14-Jun-2025 07:14:36 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => bookings
)

[14-Jun-2025 07:14:36 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [success] => Đăng nhập thành công!
)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => bookings
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:15:01 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => bookings
    [2] => update-status
    [3] => 1
)

[14-Jun-2025 07:15:01 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => bookings
    [2] => update-status
    [3] => 1
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:15:02 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => bookings
    [2] => update-status
    [3] => 1
)

[14-Jun-2025 07:15:02 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => bookings
    [2] => update-status
    [3] => 1
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:15:03 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => bookings
)

[14-Jun-2025 07:15:03 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => bookings
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:15:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:15:35 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:15:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:15:35 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:15:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:15:35 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:16:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:16:05 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:16:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:16:05 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:16:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:16:05 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:16:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:16:35 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:16:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:16:35 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:16:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:16:35 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:17:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:17:05 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:17:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:17:05 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:17:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:17:05 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:18:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:18:21 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:18:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:18:21 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:18:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:18:21 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:18:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:18:35 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:18:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:18:35 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:18:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:18:35 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:19:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:19:05 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:19:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:19:05 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:19:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:19:05 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:19:39 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:19:39 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:19:39 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:19:39 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:19:39 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:19:39 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:20:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:20:05 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:20:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:20:05 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:20:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:20:05 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:20:31 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:20:31 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:20:31 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:20:31 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:20:31 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:20:31 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:20:31 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:20:31 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:20:31 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:20:31 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:20:31 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:20:31 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:20:31 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:20:31 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:20:31 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:20:31 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:20:31 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:20:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:20:35 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:20:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:20:35 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:20:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:20:35 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:21:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:21:05 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:21:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:21:05 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:21:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:21:05 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:21:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:21:35 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:21:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:21:35 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:21:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:21:35 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:22:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:22:05 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:22:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:22:05 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:22:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:22:05 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:22:23 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:22:23 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:22:23 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:22:23 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:22:23 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:22:23 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:22:23 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:22:23 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:22:23 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:22:23 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:22:23 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:22:23 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:22:23 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:22:23 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:22:23 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:22:23 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:22:23 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:22:23 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:22:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:22:35 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:22:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:22:35 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:22:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:22:35 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:23:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:23:05 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:23:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:23:05 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:23:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:23:05 UTC] Session in main router: Array
(
    [cart_count] => 0
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:23:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:23:35 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:23:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:23:35 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:23:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:23:35 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:24:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:24:05 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:24:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:24:05 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:24:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:24:05 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:24:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:24:35 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:24:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:24:35 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:24:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:24:35 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:24:55 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:24:55 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:24:55 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:24:55 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:24:55 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:24:55 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:24:55 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:24:55 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:24:55 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:24:55 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:24:55 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:24:55 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:24:55 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:24:55 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:24:55 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:24:55 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:24:55 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:24:55 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:25:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:25:05 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:25:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:25:05 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:25:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:25:05 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:25:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:25:35 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:25:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:25:35 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:25:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:25:35 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:26:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:26:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:26:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:26:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:26:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:26:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:27:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:27:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:27:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:27:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:27:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:27:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:28:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:28:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:28:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:28:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:28:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:28:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:29:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:29:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:29:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:29:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:29:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:29:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:30:06 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:30:06 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:30:06 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:30:06 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:30:06 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:30:06 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:30:06 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:30:06 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:30:06 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:30:06 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:30:06 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:30:06 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:30:06 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:30:06 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:30:06 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:30:06 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:30:06 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:30:06 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:30:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:30:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:30:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:30:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:30:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:30:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:31:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:31:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:31:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:31:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:31:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:31:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:31:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:31:35 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:31:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:31:35 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:31:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:31:35 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:32:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:32:05 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:32:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:32:05 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:32:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:32:05 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:32:29 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:32:29 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:32:29 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:32:29 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:32:29 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:32:29 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:32:29 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:32:29 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:32:29 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:32:29 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:32:29 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:32:29 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:32:29 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:32:29 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:32:29 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:32:29 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:32:29 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:32:29 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:32:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:32:35 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:32:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:32:35 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:32:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:32:35 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:33:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:33:05 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:33:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:33:05 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:33:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:33:05 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:33:42 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:33:42 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:33:42 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:33:42 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:33:42 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:33:42 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:34:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:34:05 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:34:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:34:05 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:34:05 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:34:05 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:34:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:34:35 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:34:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:34:35 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:34:35 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:34:35 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:35:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:35:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:35:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:35:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:35:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:35:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:36:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:36:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:36:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:36:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:36:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:36:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:37:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:37:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:37:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:37:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:37:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:37:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:38:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:38:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:38:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:38:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:38:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:38:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:39:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:39:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:39:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:39:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:39:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:39:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:40:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:40:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:40:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:40:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:40:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:40:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:41:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:41:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:41:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:41:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:41:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:41:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:42:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:42:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:42:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:42:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:42:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:42:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:43:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:43:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:43:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:43:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:43:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:43:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:44:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:44:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:44:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:44:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:44:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:44:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:45:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:45:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:45:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:45:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:45:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:45:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:46:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:46:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:46:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:46:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:46:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:46:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:47:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:47:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:47:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:47:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:47:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:47:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:48:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:48:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:48:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:48:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:48:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:48:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:48:21 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 07:48:21 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 07:48:21 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 07:48:21 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:48:21 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 07:48:21 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 07:48:21 UTC] Menu Search Debug - All params: []
[14-Jun-2025 07:48:21 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 07:48:21 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 07:48:21 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:48:21 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:48:21 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 07:48:21 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 07:48:21 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 07:48:21 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 07:48:21 UTC] Food Model Debug - Params: []
[14-Jun-2025 07:48:21 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 07:49:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:49:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:49:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:49:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:49:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:49:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:50:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:50:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:50:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:50:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:50:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:50:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:51:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:51:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:51:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:51:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:51:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:51:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:52:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:52:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:52:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:52:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:52:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:52:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:53:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:53:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:53:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:53:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:53:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:53:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:54:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:54:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:54:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:54:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:54:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:54:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:55:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:55:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:55:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:55:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:55:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:55:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:56:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:56:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:56:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:56:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:56:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:56:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:57:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:57:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:57:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:57:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:57:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:57:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:58:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:58:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:58:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:58:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:58:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:58:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:59:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:59:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:59:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:59:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 07:59:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 07:59:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:00:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:00:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:00:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:00:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:00:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:00:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:01:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:01:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:01:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:01:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:01:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:01:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:02:16 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:02:16 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:02:16 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:02:16 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:02:16 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:02:16 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:02:19 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => bookings
    [2] => update-status
    [3] => 1
)

[14-Jun-2025 08:02:19 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => bookings
    [2] => update-status
    [3] => 1
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:02:20 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => bookings
    [2] => update-status
    [3] => 1
)

[14-Jun-2025 08:02:20 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => bookings
    [2] => update-status
    [3] => 1
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:02:22 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => bookings
)

[14-Jun-2025 08:02:22 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => bookings
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:02:56 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:02:56 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:02:56 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:02:56 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:02:56 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:02:56 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:03:26 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:03:26 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:03:26 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:03:26 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:03:26 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:03:26 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:03:56 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:03:56 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:03:56 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:03:56 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:03:56 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:03:56 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:04:26 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:04:26 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:04:26 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:04:26 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:04:26 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:04:26 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:04:56 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:04:56 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:04:56 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:04:56 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:04:56 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:04:56 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:05:26 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:05:26 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:05:26 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:05:26 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:05:26 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:05:26 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:05:56 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:05:56 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:05:56 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:05:56 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:05:56 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:05:56 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:07:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:07:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:07:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:07:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:07:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:07:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:08:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:08:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:08:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:08:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:08:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:08:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:09:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:09:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:09:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:09:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:09:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:09:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:10:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:10:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:10:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:10:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:10:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:10:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:11:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:11:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:11:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:11:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:11:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:11:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:12:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:12:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:12:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:12:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:12:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:12:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:13:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:13:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:13:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:13:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:13:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:13:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:14:11 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:14:11 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:14:12 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:14:12 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:14:12 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:14:12 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:14:26 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:14:26 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:14:26 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:14:26 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:14:26 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:14:26 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:14:56 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:14:56 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:14:56 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:14:56 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:14:56 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:14:56 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:16:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:16:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:16:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:16:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:16:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:16:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:17:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:17:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:17:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:17:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:17:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:17:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:18:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:18:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:18:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:18:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:18:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:18:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:19:04 UTC] PHP Parse error:  syntax error, unexpected token "endforeach", expecting "elseif" or "else" or "endif" in C:\wamp64\www\buffet_booking_mvc\views\customer\menu\detail.php on line 504
[14-Jun-2025 08:19:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:19:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:19:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:19:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:19:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:19:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:20:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:20:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:20:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:20:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:20:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:20:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:21:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:21:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:21:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:21:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:21:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:21:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:22:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:22:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:22:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:22:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:22:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:22:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:23:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:23:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:23:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:23:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:23:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:23:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:24:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:24:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:24:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:24:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:24:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:24:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:25:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:25:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:25:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:25:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:25:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:25:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:26:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:26:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:26:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:26:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:26:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:26:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:27:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:27:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:27:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:27:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:27:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:27:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:28:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:28:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:28:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:28:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:28:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:28:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:29:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:29:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:29:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:29:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:29:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:29:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:30:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:30:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:30:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:30:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:30:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:30:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:31:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:31:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:31:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:31:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:31:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:31:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:32:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:32:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:32:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:32:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:32:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:32:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:33:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:33:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:33:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:33:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:33:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:33:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:34:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:34:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:34:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:34:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:34:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:34:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:35:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:35:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:35:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:35:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:35:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:35:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:36:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:36:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:36:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:36:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:36:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:36:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:37:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:37:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:37:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:37:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:37:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:37:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:38:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:38:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:38:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:38:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:38:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:38:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:39:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:39:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:39:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:39:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:39:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:39:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:40:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:40:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:40:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:40:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:40:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:40:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:41:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:41:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:41:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:41:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:41:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:41:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:42:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:42:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:42:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:42:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:42:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:42:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:43:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:43:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:43:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:43:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:43:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:43:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:43:41 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 08:43:41 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 08:43:41 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 08:43:41 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 08:43:41 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 08:43:41 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 08:43:41 UTC] Menu Search Debug - All params: []
[14-Jun-2025 08:43:41 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 08:43:41 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 08:43:41 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 08:43:41 UTC] Food Model Debug - Params: []
[14-Jun-2025 08:43:41 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 08:43:41 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 08:43:41 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 08:43:41 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 08:43:41 UTC] Food Model Debug - Params: []
[14-Jun-2025 08:43:41 UTC] Food Model Debug - Found 12 results
[14-Jun-2025 08:44:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:44:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:44:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:44:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:44:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:44:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:45:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:45:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:45:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:45:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:45:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:45:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:46:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:46:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:46:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:46:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:46:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:46:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:47:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:47:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:47:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:47:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:47:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:47:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [5] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:48:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:48:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:48:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:48:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:48:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:48:21 UTC] Session in main router: Array
(
    [cart_count] => 1
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:49:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:49:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:49:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:49:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:49:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:49:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:50:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:50:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:50:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:50:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:50:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:50:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:51:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:51:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:51:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:51:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:51:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:51:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:52:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:52:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:52:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:52:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:52:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:52:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:53:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:53:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:53:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:53:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:53:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:53:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:54:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:54:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:54:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:54:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:54:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:54:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:55:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:55:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:55:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:55:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:55:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:55:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:56:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:56:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:56:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:56:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:56:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:56:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:57:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:57:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:57:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:57:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:57:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:57:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:58:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:58:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:58:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:58:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:58:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:58:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:59:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:59:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:59:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:59:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 08:59:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 08:59:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:00:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:00:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:00:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:00:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:00:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:00:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:01:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:01:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:01:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:01:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:01:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:01:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:02:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:02:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:02:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:02:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:02:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:02:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:03:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:03:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:03:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:03:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:03:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:03:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:04:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:04:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:04:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:04:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:04:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:04:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:05:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:05:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:05:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:05:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:05:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:05:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:06:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:06:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:06:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:06:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:06:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:06:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:07:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:07:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:07:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:07:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:07:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:07:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:08:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:08:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:08:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:08:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:08:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:08:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:09:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:09:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:09:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:09:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:09:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:09:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:10:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:10:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:10:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:10:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:10:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:10:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:11:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:11:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:11:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:11:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:11:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:11:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:12:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:12:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:12:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:12:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:12:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:12:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:13:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:13:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:13:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:13:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:13:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:13:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:14:26 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:14:26 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:14:26 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:14:26 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:14:27 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:14:27 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:15:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:15:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:15:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:15:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:15:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:15:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:16:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:16:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:16:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:16:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:16:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:16:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:17:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:17:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:17:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:17:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:17:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:17:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:18:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:18:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:18:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:18:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:18:21 UTC] Main router handling admin route: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

[14-Jun-2025 09:18:21 UTC] Session in main router: Array
(
    [cart_count] => 2
    [csrf_token] => 46ca306c4b58e7d1e4522c69dd28803f23fe5ca87eae7b12ca3735c5cd606188
    [user_id] => 1
    [first_name] => Adminn
    [last_name] => User
    [user_email] => admin@buffet.com
    [user_role] => manager
    [is_logged_in] => 1
    [user] => Array
        (
            [id] => 1
            [first_name] => Adminn
            [last_name] => User
            [full_name] => Adminn User
            [email] => admin@buffet.com
            [role] => manager
        )

    [cart] => Array
        (
            [14] => 1
            [13] => 1
        )

)

handleAdminRoute called with segments: Array
(
    [0] => admin
    [1] => dashboard
    [2] => stats
)

Session user_id: 1
Session user_role: manager
Role check result: pass
Authentication check - role: manager, authenticated: yes
Admin authentication passed - proceeding with routing
[14-Jun-2025 09:18:25 UTC] Menu Search Debug - Raw search: 
[14-Jun-2025 09:18:25 UTC] Menu Search Debug - Decoded search: 
[14-Jun-2025 09:18:25 UTC] Menu Search Debug - Search term length: 0
[14-Jun-2025 09:18:25 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 09:18:25 UTC] Menu Search Debug - Raw search: empty
[14-Jun-2025 09:18:25 UTC] Menu Search Debug - Final where clause: f.is_available = 1
[14-Jun-2025 09:18:25 UTC] Menu Search Debug - All params: []
[14-Jun-2025 09:18:25 UTC] Menu Search Debug - Category ID: 0
[14-Jun-2025 09:18:25 UTC] Menu Search Debug - Search term: 
[14-Jun-2025 09:18:25 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 09:18:25 UTC] Food Model Debug - Params: []
[14-Jun-2025 09:18:25 UTC] Food Model Debug - Found 5 results
[14-Jun-2025 09:18:25 UTC] Menu Search Debug - Test query found 5 foods
[14-Jun-2025 09:18:25 UTC] Menu Search Debug - First food name: Ba chỉ bò Mỹ
[14-Jun-2025 09:18:25 UTC] Food Model Debug - SQL: SELECT f.*, c.name as category_name, sc.name as subcategory_name
                    FROM food_items f
                    LEFT JOIN categories c ON f.category_id = c.id
                    LEFT JOIN sub_categories sc ON f.subcategory_id = sc.id WHERE f.is_available = 1 ORDER BY f.name ASC LIMIT :limit OFFSET :offset
[14-Jun-2025 09:18:25 UTC] Food Model Debug - Params: []
[14-Jun-2025 09:18:25 UTC] Food Model Debug - Found 12 results
