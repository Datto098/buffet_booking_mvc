<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Test Category Functions</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<link
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
			rel="stylesheet"
		/>
	</head>
	<body>
		<div class="container mt-5">
			<h1>Category Functions Test</h1>

			<div class="row">
				<div class="col-md-4">
					<div class="card">
						<div class="card-header">
							<h5>Test Category ID: 1</h5>
						</div>
						<div class="card-body">
							<button
								class="btn btn-primary btn-sm mb-2"
								onclick="editCategory(1)"
							>
								<i class="fas fa-edit"></i> Edit Category</button
							><br />
							<button
								class="btn btn-info btn-sm mb-2"
								onclick="viewCategory(1)"
							>
								<i class="fas fa-eye"></i> View Category</button
							><br />
							<button
								class="btn btn-danger btn-sm mb-2"
								onclick="deleteCategory(1)"
							>
								<i class="fas fa-trash"></i> Delete Category
							</button>
						</div>
					</div>
				</div>

				<div class="col-md-4">
					<div class="card">
						<div class="card-header">
							<h5>Bulk Actions</h5>
						</div>
						<div class="card-body">
							<button
								class="btn btn-success btn-sm mb-2"
								onclick="bulkUpdateStatus('active')"
							>
								<i class="fas fa-check"></i> Activate Selected</button
							><br />
							<button
								class="btn btn-warning btn-sm mb-2"
								onclick="bulkUpdateStatus('inactive')"
							>
								<i class="fas fa-ban"></i> Deactivate Selected</button
							><br />
							<button
								class="btn btn-secondary btn-sm mb-2"
								onclick="clearSelection()"
							>
								<i class="fas fa-times"></i> Clear Selection
							</button>
						</div>
					</div>
				</div>

				<div class="col-md-4">
					<div class="card">
						<div class="card-header">
							<h5>Other Functions</h5>
						</div>
						<div class="card-body">
							<button
								class="btn btn-outline-primary btn-sm mb-2"
								onclick="exportCategories()"
							>
								<i class="fas fa-download"></i> Export
								Categories</button
							><br />
							<button
								class="btn btn-outline-info btn-sm mb-2"
								onclick="refreshCategories()"
							>
								<i class="fas fa-sync-alt"></i> Refresh
							</button>
						</div>
					</div>
				</div>
			</div>

			<div class="row mt-4">
				<div class="col-12">
					<div class="card">
						<div class="card-header">
							<h5>Console Output</h5>
						</div>
						<div class="card-body">
							<div
								id="console-output"
								style="
									background: #f8f9fa;
									padding: 10px;
									min-height: 200px;
									font-family: monospace;
								"
							>
								Console messages will appear here...
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- Mock selection for testing -->
			<input
				type="checkbox"
				class="category-checkbox d-none"
				value="1"
				checked
			/>
			<input
				type="checkbox"
				class="category-checkbox d-none"
				value="2"
				checked
			/>
			<span id="selectedCount" class="d-none">0</span>
			<div id="bulkActionsBar" class="d-none"></div>
		</div>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
		<script>
			// Set global variables
			window.SITE_URL = 'http://localhost/buffet_booking_mvc';

			// Override console methods to show output in page
			const originalLog = console.log;
			const originalError = console.error;

			function addToConsole(message, type = 'log') {
				const output = document.getElementById('console-output');
				const time = new Date().toLocaleTimeString();
				const className =
					type === 'error'
						? 'text-danger'
						: type === 'warn'
						? 'text-warning'
						: 'text-info';
				output.innerHTML += `<div class="${className}">[${time}] ${message}</div>`;
				output.scrollTop = output.scrollHeight;
			}

			console.log = function (...args) {
				addToConsole(args.join(' '), 'log');
				originalLog.apply(console, args);
			};

			console.error = function (...args) {
				addToConsole(args.join(' '), 'error');
				originalError.apply(console, args);
			};

			// Mock alert function
			window.showAlert = function (message, type) {
				console.log(`Alert (${type}): ${message}`);
			};

			console.log('Page loaded. Testing category functions...');
			console.log('SITE_URL set to: ' + window.SITE_URL);
		</script>
		<script src="assets/js/admin.js"></script>
	</body>
</html>
